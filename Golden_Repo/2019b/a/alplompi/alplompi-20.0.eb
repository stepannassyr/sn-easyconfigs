easyblock = 'Toolchain'

name = 'alplompi'
version = '20.0'

homepage = 'https://developer.arm.com/tools-and-software/server-and-hpc/arm-architecture-tools/arm-allinea-studio/download'
description = """ARM compiler for Linux based compiler toolchain, including
 OpenMPI for MPI support, and ARM Performance Libraries."""

toolchain = {'name': 'dummy', 'version': 'dummy'}

armclangver = '20.0'

blaslib = 'ArmBLAS'
blasver = armclangver
blas = '%s-%s' % (blaslib, blasver)

fftlib = 'ArmFFT'
fftver = armclangver
fft = '%s-%s' % (fftlib, fftver)

# toolchain used to build dependencies
comp_mpi_tc_name = 'alompi'
comp_mpi_tc = (comp_mpi_tc_name, version)

dependencies = [
    ('armlinux', armclangver),
    ('OpenMPI', '4.0.2', '', ('armlinux', armclangver)),
    (blaslib, blasver, '', ('armlinux', armclangver)),
    (fftlib, fftver, '', ('armlinux', armclangver)),
    ('ScaLAPACK', '2.0.2', '-%s' % blas, comp_mpi_tc),
]

moduleclass = 'toolchain'
